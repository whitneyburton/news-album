(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/close.49c78649.svg"},35:function(e,t,a){e.exports=a.p+"static/media/star.71cbf604.svg"},36:function(e,t,a){e.exports=a.p+"static/media/favstar.6183f29d.svg"},43:function(e,t,a){e.exports=a(80)},48:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(30),i=a.n(c),s=(a(48),a(9)),o=a(4),l=a.n(o),u=a(6),p=a(11),m=a(12),f=a(15),d=a(13),h=a(16),v=a(8),E=a(83),g=a(37),b=a(84),N=a(42),y=a(27),O=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).getPath=function(){var e=a.props,t=e.article;return e.match.path.includes("favorites")?"/favorites/":t.url.includes("nationalgeographic")?"/national-geographic/":t.url.includes("ccn")?"/crypto-coins/":t.url.includes("newscientist")?"/new-scientist/":void 0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.article,t=e.title.toUpperCase();return n.a.createElement(y.a,{className:"Article",to:this.getPath()+e.id},n.a.createElement("div",{className:"Article--title-container"},n.a.createElement("p",{className:"Article--title"},t)),n.a.createElement("img",{className:"Article--image",alt:"article",src:e.urlToImage}))}}]),t}(r.Component),A=a(32),w=a.n(A),S=Object(v.b)(function(e){return{natGeoArticles:e.natGeoArticles,newScientistArticles:e.newScientistArticles,cryptoCoinsArticles:e.cryptoCoinsArticles}})(function(e){var t=e.match,a=e.isDisabled,c=e.natGeoArticles,i=e.cryptoCoinsArticles,o=e.newScientistArticles,l=Object(r.useState)([]),u=Object(N.a)(l,2),p=u[0],m=u[1],f=function(e){var a=JSON.parse(localStorage.getItem("favorites"))||[];return e.reduce(function(e,t){return a.forEach(function(a){t.title===a&&e.push(t)}),e},[]).map(function(e){return n.a.createElement(O,{key:e.id,article:e,match:t})})};Object(r.useEffect)(function(){!function(){switch(t.path){case"/national-geographic":case"/national-geographic/:id":return m(c.map(function(e){return n.a.createElement(O,{key:e.id,article:e,match:t})}));case"/crypto-coins":case"/crypto-coins/:id":return m(i.map(function(e){return n.a.createElement(O,{key:e.id,article:e,match:t})}));case"/new-scientist":case"/new-scientist/:id":return m(o.map(function(e){return n.a.createElement(O,{key:e.id,article:e,match:t})}));case"/favorites":case"/favorites/:id":return m(f([].concat(Object(s.a)(c),Object(s.a)(i),Object(s.a)(o))));default:m([])}}()},[t.path]);var d=a?"--disabled":"";return p.length?n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"ArticleContainer--title"},t.path.includes("geographic")?"NATIONAL GEOGRAPHIC":t.path.includes("scientist")?"THE NEW SCIENTIST":t.path.includes("crypto")?"CRYPTO COINS":"YOUR FAVORITES"),n.a.createElement(w.a,{breakpointCols:{default:3,1500:2,950:1},className:"ArticleContainer"+d,columnClassName:"columns"},p)):n.a.createElement("h1",{className:"ArticleContainer--no-faves"},"No favorites yet!")}),C=function(){return n.a.createElement("div",{className:"Loader"},n.a.createElement("h2",null,"Loading..."))},j=a(33),T=a(23),I=a.n(T),k=function(e){return{type:"SET_NATIONAL_GEOGRAPHIC",articles:e}},R=function(e){return{type:"SET_CRYPTO_COINS",articles:e}},x=function(e){return{type:"SET_NEW_SCIENTIST",articles:e}},G=function(e){return{type:"TOGGLE_LOADING",bool:e}},F=function(e){return{type:"SET_ERROR",message:e}},P=a(34),_=a.n(P),L=a(35),H=a.n(L),D=a(36),J=a.n(D),V=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(f.a)(this,Object(d.a)(t).call(this))).handleClick=function(){e.props.setFavorites(e.props.currentArticle);var t=e.props.currentArticle.title,a=JSON.parse(localStorage.getItem("favorites"))||[];if(a.includes(t)){if(a.includes(t)){var r=a.filter(function(e){return e!==t});localStorage.setItem("favorites",JSON.stringify(r))}}else a.push(t),localStorage.setItem("favorites",JSON.stringify(a))},e.state={copied:!1},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.currentArticle,r=t.match.path.slice(0,-4),c=new Date(a.publishedAt).toString().slice(0,15),i=this.state.copied?"COPIED!":"COPY",s=a.isFavorite?J.a:H.a;return n.a.createElement("div",{className:"Popup"},n.a.createElement("div",{className:"Popup--delete-fav"},n.a.createElement(y.a,{to:r},n.a.createElement("img",{src:_.a,className:"Popup--close",alt:"close icon"})),n.a.createElement("img",{src:s,onClick:this.handleClick,className:"Popup--star",alt:"star icon",id:"favorite","data-tip":!0,"data-for":"favorite-tip"}),n.a.createElement(I.a,{id:"favorite-tip",type:"light",effect:"solid",place:"bottom"},a.isFavorite?"Remove favorite":"Save for later")),n.a.createElement("div",{className:"Popup--info"},n.a.createElement("div",{className:"Popup--facts"},n.a.createElement("h4",{className:"Popup--title"},a.title.toUpperCase()),n.a.createElement("p",{className:"Popup--author-pub"},"By: ",a.author,", ",c),n.a.createElement("p",{className:"Popup--description"},"Glimpse: ",a.description)),n.a.createElement("div",{className:"Popup--buttons"},n.a.createElement("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("button",{className:"Popup--button",id:"read","data-tip":!0,"data-for":"read-tip"},"READ")),n.a.createElement(I.a,{id:"read-tip",type:"light",effect:"solid",place:"top"},"Read on their website"),n.a.createElement(j.CopyToClipboard,{className:"CopyToClipboard--button",text:a.url,onCopy:function(){return e.setState({copied:!0})}},n.a.createElement("button",{id:"copy","data-tip":!0,"data-for":"copy-tip"},i)),n.a.createElement(I.a,{id:"copy-tip",type:"light",effect:"solid",place:"top"},"Send this article to a friend!"))),n.a.createElement("img",{className:"Popup--image",alt:"article",src:a.urlToImage}))}}]),t}(r.Component),W=Object(v.b)(null,function(e){return{setFavorites:function(t){return e(function(e){return{type:"SET_FAVORITES",article:e}}(t))}}})(V),Y=function(){return n.a.createElement("div",{className:"Home"},n.a.createElement("h1",null,"welcome! newsalbum gathers the ten latest STEM articles from top sources for you to have at your fingertips. click on a news source above to get started."))},B=function(){var e=JSON.parse(localStorage.getItem("favorites"))||[];return n.a.createElement(r.Fragment,null,n.a.createElement("h1",{className:"Header--title"},"news",n.a.createElement("span",null,"album")),n.a.createElement("div",{className:"Header--quote-and-favorites"},n.a.createElement("div",{className:"Header--quote"},n.a.createElement("h2",{className:"Header--learn"},"LEARN +"),n.a.createElement("h2",{className:"Header--get-inspired"},"GET INSPIRED.")),n.a.createElement(y.a,{to:"/favorites",className:"Header--Link"},n.a.createElement("h3",{className:"Header--favorites"},"my",n.a.createElement("span",null,"favorites"),e.length))))},K=a(81),M=function(){return n.a.createElement("div",{className:"Nav--NavLink-container"},n.a.createElement(K.a,{exact:!0,to:"/",className:"Nav--nav-btn",activeClassName:"active"},"Home"),n.a.createElement(K.a,{to:"/national-geographic",className:"Nav--nav-btn",activeClassName:"active"},"National Geographic"),n.a.createElement(K.a,{to:"/new-scientist",className:"Nav--nav-btn",activeClassName:"active"},"The New Scientist"),n.a.createElement(K.a,{to:"/crypto-coins",onClick:function(e){return e.preventDefault()},className:"Nav--nav-btn disabled"},"Crypto Coins News"))},U=function(){return n.a.createElement("div",{className:"Error404"},n.a.createElement("p",null,"We're sorry,"),n.a.createElement("p",null,"There was an error loading this article."),n.a.createElement(y.a,{to:"/",className:"Error404--go-back"},"Go Back"))},q=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:throw r=e.sent,new Error(r.message);case 8:return e.next=10,a;case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),z=a(14),Q=a.n(z),X=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){a.fetchArticles(),a.getFavoritesFromStorage()},a.fetchArticles=Object(u.a)(l.a.mark(function e(){var t,r,n,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,r=t.fetchNatGeo,n=t.fetchCryptoCoins,c=t.fetchNewScientist,e.next=3,r();case 3:return e.next=5,n();case 5:return e.next=7,c();case 7:case"end":return e.stop()}},e)})),a.getArticleRoute=function(e){var t=e.match,r=a.props,c=r.natGeoArticles,i=r.cryptoCoinsArticles,o=r.newScientistArticles,l=[].concat(Object(s.a)(c),Object(s.a)(i),Object(s.a)(o)).find(function(e){return e.id===t.params.id});return l?[n.a.createElement(S,{match:t,isDisabled:!0}),n.a.createElement(W,{currentArticle:l,match:t})]:n.a.createElement(U,null)},a.getFavoritesFromStorage=function(){var e=a.props,t=e.natGeoArticles,r=e.newScientistArticles,n=e.cryptoCoinsArticles,c=e.setNatGeo,i=e.setCryptoCoins,s=e.setNewScientist,o=JSON.parse(localStorage.getItem("favorites"))||[];c(t.map(function(e){return o.includes(e.title)&&(e.isFavorite=!0),e})),s(r.map(function(e){return o.includes(e.title)&&(e.isFavorite=!0),e})),i(n.map(function(e){return o.includes(e.title)&&(e.isFavorite=!0),e}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.error,r=e.history;return n.a.createElement("div",{className:"App"},n.a.createElement(B,null),n.a.createElement(M,{history:r}),a&&n.a.createElement(U,null),!a&&t&&n.a.createElement(C,null),!t&&n.a.createElement(E.a,null,n.a.createElement(g.a,{path:"/crypto-coins/:id",render:this.getArticleRoute}),n.a.createElement(g.a,{path:"/national-geographic/:id",render:this.getArticleRoute}),n.a.createElement(g.a,{path:"/new-scientist/:id",render:this.getArticleRoute}),n.a.createElement(g.a,{path:"/favorites/:id",render:this.getArticleRoute}),n.a.createElement(g.a,{path:"/national-geographic",component:S}),n.a.createElement(g.a,{path:"/new-scientist",component:S}),n.a.createElement(g.a,{path:"/crypto-coins",component:S}),n.a.createElement(g.a,{path:"/favorites",component:S}),n.a.createElement(g.a,{exact:!0,path:"/",component:Y}),n.a.createElement(g.a,{component:U})),n.a.createElement("p",{className:"App--attribution"},"Powered by"," ",n.a.createElement("a",{className:"App--attribution-link",href:"https://newsapi.org/",target:"_blank",rel:"noopener noreferrer"},"News API")))}}]),t}(r.Component),Z=Object(b.a)(Object(v.b)(function(e){return{natGeoArticles:e.natGeoArticles,newScientistArticles:e.newScientistArticles,cryptoCoinsArticles:e.cryptoCoinsArticles,isLoading:e.isLoading,error:e.error}},function(e){return{setNatGeo:function(t){return e(k(t))},setNewScientist:function(t){return e(x(t))},setCryptoCoins:function(t){return e(R(t))},fetchNatGeo:function(){return e(function(){var e=Object(u.a)(l.a.mark(function e(t){var a,r,n,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://newsapi.org/v2/top-headlines?sources=national-geographic&apiKey=".concat("5a00f6d2cb3442d4811bee825bdd3856"),e.prev=1,t(G(!0)),e.next=5,q(a);case 5:return r=e.sent,e.next=8,r.json();case 8:n=e.sent,c=n.articles.map(function(e){return e.id=Q.a.generate(),e.isFavorite=!1,e}),t(k(c)),t(G(!1)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t(F(e.t0.message));case 17:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t){return e.apply(this,arguments)}}())},fetchNewScientist:function(){return e(function(){var e=Object(u.a)(l.a.mark(function e(t){var a,r,n,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://newsapi.org/v2/top-headlines?sources=new-scientist&apiKey=".concat("5a00f6d2cb3442d4811bee825bdd3856"),e.prev=1,t(G(!0)),e.next=5,q(a);case 5:return r=e.sent,e.next=8,r.json();case 8:n=e.sent,c=n.articles.map(function(e){return e.id=Q.a.generate(),e.isFavorite=!1,e}),t(x(c)),t(G(!1)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t(F(e.t0.message));case 17:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t){return e.apply(this,arguments)}}())},fetchCryptoCoins:function(){return e(function(){var e=Object(u.a)(l.a.mark(function e(t){var a,r,n,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://newsapi.org/v2/top-headlines?sources=crypto-coins-news&apiKey=".concat("5a00f6d2cb3442d4811bee825bdd3856"),e.prev=1,t(G(!0)),e.next=5,q(a);case 5:return r=e.sent,e.next=8,r.json();case 8:n=e.sent,c=n.articles.map(function(e){return e.id=Q.a.generate(),e.isFavorite=!1,e}),t(R(c)),t(G(!1)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t(F(e.t0.message));case 17:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t){return e.apply(this,arguments)}}())}}})(X)),$=a(7),ee=a(82),te=a(17),ae=Object($.combineReducers)({natGeoArticles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NATIONAL_GEOGRAPHIC":return t.articles;case"SET_FAVORITES":return e.map(function(e){return e.id===t.article.id?Object(te.a)({},e,{isFavorite:!e.isFavorite}):e});default:return e}},newScientistArticles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEW_SCIENTIST":return t.articles;case"SET_FAVORITES":return e.map(function(e){return e.id===t.article.id?Object(te.a)({},e,{isFavorite:!e.isFavorite}):e});default:return e}},cryptoCoinsArticles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CRYPTO_COINS":return t.articles;case"SET_FAVORITES":return e.map(function(e){return e.id===t.article.id?Object(te.a)({},e,{isFavorite:!e.isFavorite}):e});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.message;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_LOADING":return t.bool;default:return e}}}),re=a(40),ne=a(41),ce=Object(re.composeWithDevTools)(Object($.applyMiddleware)(ne.a)),ie=Object($.createStore)(ae,ce),se=n.a.createElement(v.a,{store:ie},n.a.createElement(ee.a,null,n.a.createElement(Z,null)));i.a.render(se,document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.87dde964.chunk.js.map